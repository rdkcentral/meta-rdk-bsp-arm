From 672d51d7b3bcdc340a787867093d620ef01a24f8 Mon Sep 17 00:00:00 2001
From: Mathew McBride <matt@traverse.com.au>
Date: Mon, 27 Oct 2025 16:24:48 +1100
Subject: [PATCH 2/3] (Generic ARM only) disable sending WebPA notifications

---
 source-arm/TR-181/board_sbapi/cosa_common_util.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/source-arm/TR-181/board_sbapi/cosa_common_util.c b/source-arm/TR-181/board_sbapi/cosa_common_util.c
index 2c480a9..e29ecda 100644
--- a/source-arm/TR-181/board_sbapi/cosa_common_util.c
+++ b/source-arm/TR-181/board_sbapi/cosa_common_util.c
@@ -447,7 +447,7 @@ Set_Notifi_ParamName(arg_struct_t arguments)
 
     char* faultParam = NULL;
     int ret = 0;
-
+#ifndef WEBPA_NOTIFICATIONS_DISABLED
     rc = sprintf_s(str1,sizeof(str1),"%s,%u,%s,%s,%d",arguments.parameterName, arguments.writeID, strlen(arguments.newValue)>0 ? arguments.newValue : "NULL", strlen(arguments.oldValue)>0 ? arguments.oldValue : "NULL", arguments.type);
     CcspTraceInfo(("%s rc: %d, str1: %s\n", __FUNCTION__ , rc, str1));
 
@@ -513,7 +513,7 @@ Set_Notifi_ParamName(arg_struct_t arguments)
     {
         CcspTraceWarning(("%s: CcspBaseIf_setParameterValues: Param value set succesfully and sent to WebPA.\n", __FUNCTION__ ));
     }
-  
+#endif /* !WEBPA_NOTIFICATIONS_DISABLED */
     EXIT:
         CcspTraceWarning(("%s: CcspBaseIf_setParameterValues: Exit.\n", __FUNCTION__ ));
         return NULL;
-- 
2.51.0

